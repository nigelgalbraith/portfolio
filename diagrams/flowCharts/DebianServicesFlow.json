{
  "nodes": {
    "CheckRoot": { "label": "Check root account" },
    "Setup": { "label": "Setup logging and load config files" },
    "GetUserChoice": { "label": "Choose: Install, Uninstall, or View Logs" },

    "InstallFlow": { "label": "Install: validate, copy files, enable service" },
    "UninstallFlow": { "label": "Uninstall: stop service, remove files" },
    "ShowLogs": { "label": "Open logs for each service" },

    "RotateLogs": { "label": "Rotate logs and finish" }
  },
  "connections": [
    ["CheckRoot", "Setup"],
    ["Setup", "GetUserChoice"],

    ["GetUserChoice", "InstallFlow"],
    ["InstallFlow", "RotateLogs"],

    ["GetUserChoice", "UninstallFlow"],
    ["UninstallFlow", "RotateLogs"],

    ["GetUserChoice", "ShowLogs"],
    ["ShowLogs", "RotateLogs"]
  ],
  "classes": {
    "step": "fillcolor:#f4cccc,style:filled,shape:rect,fontcolor:black"
  },
  "class_map": {
    "CheckRoot": "step",
    "Setup": "step",
    "GetUserChoice": "step",
    "InstallFlow": "step",
    "UninstallFlow": "step",
    "ShowLogs": "step",
    "RotateLogs": "step"
  }
}
