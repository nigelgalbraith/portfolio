{
  "nodes": {
    "Init": { "label": "Setup logs and check environment" },
    "LoadConfig": { "label": "Load AppConfigSettings and model config" },
    "GetPackageStatus": { "label": "Check installed packages" },
    "PromptAction": { "label": "Prompt: Install, Uninstall, or Cancel" },

    "InstallFlow": { "label": "Install missing packages (add repo + install)" },
    "UninstallFlow": { "label": "Uninstall packages and remove repo" },

    "Finish": { "label": "Rotate logs and finish" }
  },
  "connections": [
    ["Init", "LoadConfig"],
    ["LoadConfig", "GetPackageStatus"],
    ["GetPackageStatus", "PromptAction"],

    ["PromptAction", "InstallFlow"],
    ["PromptAction", "UninstallFlow"],

    ["InstallFlow", "Finish"],
    ["UninstallFlow", "Finish"]
  ],
  "classes": {
    "step": "fillcolor:#f4cccc,style:filled,shape:rect,fontcolor:black"
  },
  "class_map": {
    "Init": "step",
    "LoadConfig": "step",
    "GetPackageStatus": "step",
    "PromptAction": "step",
    "InstallFlow": "step",
    "UninstallFlow": "step",
    "Finish": "step"
  }
}
