<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Letter Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <!-- Main stylesheet -->
  <link rel="stylesheet" href="css/style.css" />

  <!-- Simple inline favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='18' fill='%2306b6d4'/><text x='50' y='62' font-size='58' text-anchor='middle' fill='%23071018'>CL</text></svg>">
</head>

<body>
<div class="app">

  <!-- Header + Navigation + Profile Loader -->
  <header class="header-centered">
    <h1>Letter Generator</h1>

    <nav class="nav">
      <div class="nav-links">
        <a href="index.html" aria-current="page">Generator</a>
        <a href="profile.html">Profile Builder</a>
      </div>
    </nav>

    <div class="profile-loader-wrapper">
      <!-- Load button pane -->
      <div
        data-pane="profile-loader"
        data-profile-global="LETTER_PROFILE"
        data-default-profile="data/default.json"
        data-profile-event="profileLoaded"
        data-button-label="Load Profile"
        data-accept="application/json"
        data-ticker-id="profile-main"
      ></div>

      <!-- Typewriter ticker pane -->
      <div
        class="profile-loader-ticker"
        data-pane="status-ticker"
        data-messages-url="data/messages.json"
        data-ticker-id="profile-main"
      ></div>
    </div>
  </header>

  <!-- Intro text block -->
  <div data-pane="intro-text" data-intro-key="main"></div>

  <!-- Main generator layout -->
  <main class="split" id="root">

    <!-- Form fields generated from profile.form -->
    <div data-pane="generator-form"
         data-profile-event="profileLoaded"
         data-profile-global="LETTER_PROFILE"
         data-title="Details"
         data-default-styles="Professional,Friendly,Direct,Concise">
    </div>

    <!-- Checklist groups from profile.options -->
    <div data-pane="generator-checklists"
         data-profile-event="profileLoaded"
         data-profile-global="LETTER_PROFILE"
         data-default-title="Options">
    </div>

    <!-- Preview + Generate + Copy + PDF -->
    <div data-pane="generator-preview"
         data-ollama-url="http://localhost:11434/api/generate"
         data-form-selector='[data-pane="generator-form"]'
         data-checklists-selector='[data-pane="generator-checklists"]'
         data-profile-global="LETTER_PROFILE"
         data-letter-id="generator-letter"
         data-ticker-id="profile-main">
    </div>

    <!-- Piper TTS (speaks content of preview) -->
    <div data-pane="generator-piper"
         data-piper-base="/piper"
         data-voice-id="en_US-amy-low"
         data-target-selector="#generator-letter"
         data-ticker-id="profile-main">
    </div>

    <!-- Export profile as JSON -->
    <div data-pane="builder-export"
         data-builder-global="LETTER_PROFILE"
         data-title="Export Profile"
         data-filename="profile.json"
         data-button-label="Download JSON"
         data-ticker-id="profile-main">
    </div>

  </main>
</div>

<!-- Pane scripts -->
<script src="js/StatusTickerPane.js"></script>
<script src="js/ProfileLoaderPane.js"></script>
<script src="js/GeneratorFormPane.js"></script>
<script src="js/GeneratorChecklistPane.js"></script>
<script src="js/GeneratorPreviewPane.js"></script>
<script src="js/GeneratorPiperPane.js"></script>
<script src="js/ExportPane.js"></script>
<script src="text/intro.js"></script>
<script src="js/IntroPane.js"></script>

</body>
</html>
